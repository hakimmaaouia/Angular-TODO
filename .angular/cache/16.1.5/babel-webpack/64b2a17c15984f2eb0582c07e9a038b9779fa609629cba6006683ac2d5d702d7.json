{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/task/task.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../components/task-form/task-form.component\";\nexport class TaskCreationComponent {\n  constructor(taskService, route) {\n    this.taskService = taskService;\n    this.route = route;\n    this.isFormCompleted = false;\n  }\n  ngOnInit() {\n    this.createNewTask();\n  }\n  isCompleted() {\n    if (this.currentTask.content.length > 0 && this.currentTask?.category !== null) {\n      this.isFormCompleted = true;\n    } else {\n      this.isFormCompleted = false;\n    }\n  }\n  createNewTask() {\n    this.currentTask = this.taskService.createNewTask();\n  }\n  updateTask(updatedTask) {\n    this.currentTask = updatedTask;\n    this.isCompleted();\n  }\n  validateTask() {\n    this.taskService.addToList(this.currentTask);\n    this.route.navigate([\"\"]);\n  }\n}\nTaskCreationComponent.ɵfac = function TaskCreationComponent_Factory(t) {\n  return new (t || TaskCreationComponent)(i0.ɵɵdirectiveInject(i1.TaskService), i0.ɵɵdirectiveInject(i2.Router));\n};\nTaskCreationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TaskCreationComponent,\n  selectors: [[\"app-task-creation\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[3, \"currentTask\", \"updateTask\"], [\"type\", \"submit\", 1, \"blue-button\", 3, \"disabled\", \"click\"]],\n  template: function TaskCreationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\")(1, \"app-task-form\", 0);\n      i0.ɵɵlistener(\"updateTask\", function TaskCreationComponent_Template_app_task_form_updateTask_1_listener($event) {\n        return ctx.updateTask($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function TaskCreationComponent_Template_button_click_2_listener() {\n        return ctx.validateTask();\n      });\n      i0.ɵɵtext(3, \"Valider ma t\\u00E2che\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"currentTask\", ctx.currentTask);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.isFormCompleted);\n    }\n  },\n  dependencies: [i3.TaskFormComponent],\n  styles: [\"section[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: space-between;\\n    height: 85vh;\\n    overflow-y: scroll;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvdGFzay1jcmVhdGlvbi90YXNrLWNyZWF0aW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQiw4QkFBOEI7SUFDOUIsWUFBWTtJQUNaLGtCQUFrQjtBQUN0QiIsInNvdXJjZXNDb250ZW50IjpbInNlY3Rpb24ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBoZWlnaHQ6IDg1dmg7XG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["TaskCreationComponent","constructor","taskService","route","isFormCompleted","ngOnInit","createNewTask","isCompleted","currentTask","content","length","category","updateTask","updatedTask","validateTask","addToList","navigate","i0","ɵɵdirectiveInject","i1","TaskService","i2","Router","selectors","decls","vars","consts","template","TaskCreationComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","TaskCreationComponent_Template_app_task_form_updateTask_1_listener","$event","ɵɵelementEnd","TaskCreationComponent_Template_button_click_2_listener","ɵɵtext","ɵɵadvance","ɵɵproperty"],"sources":["/Users/bahaeddinechammakhi/Desktop/todo-app/src/app/pages/task-creation/task-creation.component.ts","/Users/bahaeddinechammakhi/Desktop/todo-app/src/app/pages/task-creation/task-creation.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TaskService } from 'src/app/services/task/task.service';\nimport { Task } from 'src/app/task';\n\n@Component({\n  selector: 'app-task-creation',\n  templateUrl: './task-creation.component.html',\n  styleUrls: ['./task-creation.component.css']\n})\nexport class TaskCreationComponent {\n\n  currentTask?: Task;\n\n  isFormCompleted: boolean = false;\n\n  constructor(private taskService: TaskService, private route: Router) { }\n\n  ngOnInit() {\n    this.createNewTask();\n  }\n\n  isCompleted() {\n    if(this.currentTask!.content.length > 0 && this.currentTask?.category !== null) {\n      this.isFormCompleted = true;\n    } else {\n      this.isFormCompleted = false;\n    }\n  }\n\n  createNewTask() {\n    this.currentTask = this.taskService.createNewTask();\n  }\n\n  updateTask(updatedTask: Task) {\n    this.currentTask = updatedTask;\n    this.isCompleted();\n  }\n\n  validateTask() {\n    this.taskService.addToList(this.currentTask!);\n    this.route.navigate([\"\"]);\n  }\n\n}\n","<section>\n<app-task-form [currentTask]=\"currentTask\" (updateTask)=\"updateTask($event)\"></app-task-form>\n\n<button class=\"blue-button\" [disabled]=\"!isFormCompleted\" (click)=\"validateTask()\" type=\"submit\">Valider ma tâche</button>\n</section>"],"mappings":";;;;AAUA,OAAM,MAAOA,qBAAqB;EAMhCC,YAAoBC,WAAwB,EAAUC,KAAa;IAA/C,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,KAAK,GAALA,KAAK;IAF3D,KAAAC,eAAe,GAAY,KAAK;EAEuC;EAEvEC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAC,WAAWA,CAAA;IACT,IAAG,IAAI,CAACC,WAAY,CAACC,OAAO,CAACC,MAAM,GAAG,CAAC,IAAI,IAAI,CAACF,WAAW,EAAEG,QAAQ,KAAK,IAAI,EAAE;MAC9E,IAAI,CAACP,eAAe,GAAG,IAAI;KAC5B,MAAM;MACL,IAAI,CAACA,eAAe,GAAG,KAAK;;EAEhC;EAEAE,aAAaA,CAAA;IACX,IAAI,CAACE,WAAW,GAAG,IAAI,CAACN,WAAW,CAACI,aAAa,EAAE;EACrD;EAEAM,UAAUA,CAACC,WAAiB;IAC1B,IAAI,CAACL,WAAW,GAAGK,WAAW;IAC9B,IAAI,CAACN,WAAW,EAAE;EACpB;EAEAO,YAAYA,CAAA;IACV,IAAI,CAACZ,WAAW,CAACa,SAAS,CAAC,IAAI,CAACP,WAAY,CAAC;IAC7C,IAAI,CAACL,KAAK,CAACa,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;EAC3B;;AAhCWhB,qBAAqB,C;mBAArBA,qBAAqB,EAAAiB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,MAAA;AAAA;AAArBtB,qBAAqB,C;QAArBA,qBAAqB;EAAAuB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCVlCZ,EAAA,CAAAc,cAAA,cAAS;MACkCd,EAAA,CAAAe,UAAA,wBAAAC,mEAAAC,MAAA;QAAA,OAAcJ,GAAA,CAAAlB,UAAA,CAAAsB,MAAA,CAAkB;MAAA,EAAC;MAACjB,EAAA,CAAAkB,YAAA,EAAgB;MAE7FlB,EAAA,CAAAc,cAAA,gBAAiG;MAAvCd,EAAA,CAAAe,UAAA,mBAAAI,uDAAA;QAAA,OAASN,GAAA,CAAAhB,YAAA,EAAc;MAAA,EAAC;MAAeG,EAAA,CAAAoB,MAAA,4BAAgB;MAAApB,EAAA,CAAAkB,YAAA,EAAS;;;MAF3GlB,EAAA,CAAAqB,SAAA,GAA2B;MAA3BrB,EAAA,CAAAsB,UAAA,gBAAAT,GAAA,CAAAtB,WAAA,CAA2B;MAEdS,EAAA,CAAAqB,SAAA,GAA6B;MAA7BrB,EAAA,CAAAsB,UAAA,cAAAT,GAAA,CAAA1B,eAAA,CAA6B"},"metadata":{},"sourceType":"module","externalDependencies":[]}